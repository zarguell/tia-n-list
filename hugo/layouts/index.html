{{ define "main" }}
<div class="container">
  <header class="post-header">
    <h1 class="post-title">{{ .Site.Title }}</h1>
    <p class="post-meta">{{ .Site.Params.description }}</p>
  </header>

  <div class="posts">
    {{ $paginator := .Paginate (where .Site.RegularPages "Type" "in" "posts") }}
    {{ range $index, $page := $paginator.Pages }}
    <article class="post">
      <h3 class="post-title">
        <a href="{{ .Permalink }}">{{ .Title }}</a>
      </h3>
      <div class="post-meta">
        <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "January 2, 2006" }}</time>
        {{ with .Params.author }} - {{ . }}{{ end }}
      </div>
      {{ if .Params.summary }}
        <p class="post-summary">{{ .Params.summary }}</p>
      {{ else }}
        <p class="post-summary">{{ .Summary }}</p>
      {{ end }}
      <div class="post-tags">
        {{ range .Params.tags }}
          <a href="{{ "/tags/" | relLangURL }}{{ . | urlize }}" class="tag">{{ . }}</a>
        {{ end }}
      </div>
    </article>
    {{ end }}
  </div>

  {{ template "_internal/pagination.html" . }}
</div>
{{ end }}